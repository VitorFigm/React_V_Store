(this.webpackJsonpv_store=this.webpackJsonpv_store||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(5),l=a.n(i),o=(a(11),a(2)),s=a.n(o),m=a(3);function u(e,t){return _.apply(this,arguments)}function _(){return(_=Object(m.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("page",a),r=new URLSearchParams(n).toString(),e.prev=3,e.next=6,fetch("https://the-v-store.herokuapp.com/?"+r);case 6:return c=e.sent,!0,e.t0=t,e.t1=!0,e.next=12,c.json();case 12:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=20;break;case 16:e.prev=16,e.t3=e.catch(3),!1,t(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}function p(){return(p=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://the-v-store.herokuapp.com/brands");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,!0,t(!0,n.list),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),!1,t(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function d(){return(d=Object(m.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("product_name",a),r=new URLSearchParams(n).toString(),e.prev=3,e.next=6,fetch("https://the-v-store.herokuapp.com/filter?"+r);case 6:return c=e.sent,!0,e.t0=t,e.t1=!0,e.next=12,c.json();case 12:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=20;break;case 16:e.prev=16,e.t3=e.catch(3),!1,t(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}function f(e,t,a,n){return h.apply(this,arguments)}function h(){return(h=Object(m.a)(s.a.mark((function e(t,a,n,r){var c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new FormData(r),""!==n&&c.append("product_name",n),c.append("page",a),i=new URLSearchParams(c).toString(),e.prev=4,e.next=7,fetch("https://the-v-store.herokuapp.com/filter?"+i);case 7:return l=e.sent,!0,e.t0=t,e.t1=!0,e.next=13,l.json();case 13:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=21;break;case 17:e.prev=17,e.t3=e.catch(4),!1,t(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})))).apply(this,arguments)}var g={final:function(e){(e=document.getElementById(e)).classList.remove("initial_appearance")},initial:function(e){(e=document.getElementById(e)).classList.add("initial_appearance")}},v=function(e){var t=e.product_list_change_to,a=e.saved_form_change_to,n=e.query_change_to,r=e.page_change_to,i=e.total_pages_change_to;return c.a.createElement(c.a.Fragment,null,c.a.createElement(o,null),c.a.createElement(s,null));function l(){var e=document.getElementById("search_input").value;""!=e&&(g.initial("search"),g.initial("search_translucid_screen"),document.getElementById("recommendation").scrollIntoView(),a(void 0),n(e),t("loading"),r(1),function(e,t){d.apply(this,arguments)}((function(e,a){if(e){var n=a.products,r=a.pages_number;t(n),i(r)}}),e))}function o(){return c.a.createElement("header",{id:"header",className:"initial_appearance"},c.a.createElement("a",{href:"/",id:"logo"}," "),c.a.createElement("div",{id:"options_bellow_search"},c.a.createElement("a",{href:"mailto:vitorfigmarques@hotmail.com",id:"contact"},"Contact me")),c.a.createElement("div",{id:"header_btns"},c.a.createElement("button",{id:"search_mobile_btn",onClick:function(){g.final("search"),g.final("search_translucid_screen")}}),c.a.createElement("button",{id:"hamb",onClick:function(){g.final("menu_screen"),g.final("menu")}})))}function s(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"search_translucid_screen",className:"initial_appearance",onClick:function(){g.initial("search"),g.initial("search_translucid_screen")}},c.a.createElement("button",{id:"search_close_btn"})),c.a.createElement("div",{id:"search",className:"initial_appearance"},c.a.createElement("input",{type:"text",id:"search_input",onKeyDown:function(e){"Enter"==e.key&&l()}}),c.a.createElement("button",{id:"query_btn",onClick:function(){return l()}}," ",c.a.createElement("img",null)," ")))}},E=function(){function e(){g.initial("menu_screen"),g.initial("menu")}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"menu_screen",className:"initial_appearance"},c.a.createElement("div",{id:"screen_to_onclick_event",onClick:function(){e()}}),c.a.createElement("div",{id:"menu",className:"initial_appearance"},c.a.createElement("button",{id:"menu_close_btn",onClick:function(){e()}}," ",c.a.createElement("img",null)," "),c.a.createElement("div",{id:"menu_items"},c.a.createElement("a",{href:"#"},"Visit my Website"),c.a.createElement("a",{href:"https://github.com/VitorFigm",target:"_blank",rel:"noopener noreferrer"},"Visit my github"),c.a.createElement("a",{href:"mailto:vitorfigmarques@hotmail.com"},"Contact me")))))},b=function(e){var t=e.query,a=e.brand_list,i=e.saved_form_change_to,l=e.product_list_change_to,o=e.page_change_to,s=e.total_pages_change_to;window.addEventListener("load",(function(){document.getElementById("menu_filter").onsubmit=function(e){e.preventDefault();var a=this;if(function(){var e=!0,t=a.elements.maximum_price.value;a.elements.minimum_price.value>t&&(document.getElementById("error_msg").innerHTML="Price min needs to be lower than Price max",g.final("error_msg_box"),e=!1);return{is_a_valid_form:e}}().is_a_valid_form){g.initial("menu_filter_screen"),g.initial("menu_filter"),o(1),i(void 0),document.getElementById("recommendation").scrollIntoView(),l("loading");f((function(e,t){if(e){var n=t.products,r=t.pages_number;l(n),i(a),s(r)}}),1,t,a)}}}));var m=Object(r.useState)(c.a.createElement("option",{disabled:!0},"loading...")),u=Object(n.a)(m,2),_=u[0],p=u[1];return Object(r.useEffect)((function(){0!==a.lenght&&p(a.map((function(e,t){return c.a.createElement("option",{key:"brand"+t,value:e},e)})))}),[a]),c.a.createElement("div",{id:"menu_filter_screen",className:"initial_appearance"},c.a.createElement("div",{id:"menu_filter_onclick",onClick:function(){g.initial("menu_filter_screen"),g.initial("menu_filter")}}),c.a.createElement("button",{className:"filter_close_btn",onClick:function(){g.initial("menu_filter_screen"),g.initial("menu_filter")}}),c.a.createElement("form",{id:"menu_filter",className:"initial_appearance"},c.a.createElement("label",{htmlFor:"sort_by"}," Filter for: "),c.a.createElement("select",{name:"sort_by",className:"menu_filter_spaces"},c.a.createElement("option",{defaultValue:"better ratings"},"better ratings"),c.a.createElement("option",{defaultValue:"lower prices"},"lower prices"),c.a.createElement("option",{defaultValue:"higher pricse"},"higher prices")),c.a.createElement("label",{htmlFor:"brand"}," Brand: "),c.a.createElement("select",{name:"brand",className:"menu_filter_spaces",id:"filter_brands"},c.a.createElement("option",{defaultValue:"all"},"All"),_),c.a.createElement("label",{htmlFor:"minimum_price"},"Price min"),c.a.createElement("input",{type:"number",name:"minimum_price",className:"menu_filter_spaces"}),c.a.createElement("label",{htmlFor:"maximum_price"},"Price max"),c.a.createElement("input",{type:"number",name:"maximum_price",className:"menu_filter_spaces"}),c.a.createElement("input",{type:"hidden",name:"query",defaultValue:t}),c.a.createElement("input",{type:"submit",defaultValue:"Filter",id:"submit_btn"}),c.a.createElement("div",{id:"error_msg_box",className:"initial_appearance"},c.a.createElement("div",{id:"error_msg"}),c.a.createElement("button",{type:"button",className:"filter_close_btn",onClick:function(){g.initial("error_msg_box")}}))))},y=function(e){var t=e.page,a=e.total_pages,i=e.total_pages_change_to,l=e.query,o=e.query_change_to,s=e.product_list_change_to,m=e.saved_form,_=e.new_request_of_home_page,p=e.saved_form_change_to,d=e.page_change_to;function h(e){document.getElementById("recommendation").scrollIntoView(),s("loading"),d(e),""===l&&void 0==m?u((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var a=t.products,n=t.pages_number;s(a),i(n)}}),e):f((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var a=t.products,n=t.pages_number;s(a),i(n)}}),e,l,m)}var v=Object(r.useState)(k()),E=Object(n.a)(v,2),b=E[0],y=E[1];function k(){var e=[];return""!==l&&e.push(c.a.createElement("h1",{id:"results_title",key:"1"},'Results for"',l,'"')),void 0!==m&&function(){var t=m.elements.sort_by.value;"Better ratings"!=t&&e.push(c.a.createElement("h2",{key:"2"}," sorted by ",t," "));var a=m.elements.brand.value;"All"!==a&&e.push(c.a.createElement("p",{key:"3"}," only ",a," phones "));var n=m.elements.minimum_price.value;""!==n&&e.push(c.a.createElement("p",{key:"4"},"minimum price is ",n));var r=m.elements.maximum_price.value;""!==r&&e.push(c.a.createElement("p",{key:"5"},"maximum price is ",r))}(),0!==e.length?(e.push(c.a.createElement("a",{key:"6",id:"clear_filters_btn",onClick:function(){_(),p(void 0),o("")}},"Clear")),e):c.a.createElement("h1",{id:"results_title"},"Highest Rated")}return Object(r.useEffect)((function(){y(k())}),[m,l]),c.a.createElement("section",null,c.a.createElement("div",{className:"container",id:"intro"},c.a.createElement("h1",null,"Hi, welcome to the V store, "),c.a.createElement("p",null,"A cellphone shop simulator")),c.a.createElement("div",{className:"blank_interval"}),c.a.createElement("div",{id:"recommendation",className:"container"},c.a.createElement("div",{className:"blank_interval"}),b,e.children,c.a.createElement("div",{id:"page"},1===t?c.a.createElement("button",{className:"inactivated"}," ","<"," "):c.a.createElement("button",{className:"prev_page",onClick:function(){return h(t-1)}}," ","<"," "),c.a.createElement("div",null,"Page ",t," of ",a," "),t===a?c.a.createElement("button",{className:"inactivated"}," ",">"," "):c.a.createElement("button",{className:"next_page",onClick:function(){return h(t+1)}}," ",">"," ")),c.a.createElement("h1",null,"Help to find a cellphone"),c.a.createElement("div",{id:"find_a_cell",onClick:function(){g.final("menu_filter_screen"),g.final("menu_filter")}},"find with filters"),c.a.createElement("div",{className:"blank_interval"})))},k=function(e){var t=e.product_list,a=(e.product_list_change_to,Object(r.useState)()),i=Object(n.a)(a,2),l=i[0],o=i[1],s=Object(r.useState)(),m=Object(n.a)(s,2),u=m[0],_=m[1];return Object(r.useEffect)((function(){o("loading"!==t?void 0:c.a.createElement("div",{id:"loading_products"},c.a.createElement("h1",null,"Loading...")))}),[t]),Object(r.useEffect)((function(){if("loading"!==t){var e=t.map((function(e,t){return c.a.createElement("span",{key:"span "+t},c.a.createElement("a",{key:"product "+t,className:"product",href:e.url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{key:"img "+t,src:e.image,id:e.image,alt:e.title}),c.a.createElement("div",{key:"product_content "+t,id:"product_content"},c.a.createElement("div",{key:"name "+t,className:"name",id:e.img+"_name"},e.title.slice(0,60)+"..."),c.a.createElement("div",{key:"price "+t,className:"price",id:e.img+"_price"},"$",e.price))))}));_(e)}else _([])}),[t]),c.a.createElement("div",{className:"product_container"},l,u)};function j(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(r.useState)("loading"),o=Object(n.a)(l,2),s=o[0],m=o[1],_=Object(r.useState)([]),d=Object(n.a)(_,2),f=d[0],h=d[1],g=Object(r.useState)(1),j=Object(n.a)(g,2),w=j[0],x=j[1],N=Object(r.useState)(1),O=Object(n.a)(N,2),C=O[0],S=O[1],q=Object(r.useState)(),F=Object(n.a)(q,2),V=F[0],I=F[1],B=function(){u((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var a=t.products,n=t.pages_number;m(a),x(n)}}),1)};return window.addEventListener("load",(function(){B(),function(e){p.apply(this,arguments)}((function(e,t){e&&h(t)}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"scroll",className:"initial_appearance"},"V"),c.a.createElement(v,{page_change_to:S,total_pages_change_to:x,product_list_change_to:m,query_change_to:i,saved_form_change_to:I}),c.a.createElement(b,{page_change_to:S,total_pages_change_to:x,product_list_change_to:m,query:a,brand_list:f,saved_form_change_to:I}),c.a.createElement(E,null),c.a.createElement(y,{product_list_change_to:m,page:C,total_pages:w,total_pages_change_to:x,page_change_to:S,query:a,query_change_to:i,saved_form:V,saved_form_change_to:I,new_request_of_home_page:B},c.a.createElement(k,{product_list:s,product_list_change_to:m})))}l.a.render(c.a.createElement(j,null),document.getElementById("root"))},6:function(e,t,a){e.exports=a(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.8670f662.chunk.js.map